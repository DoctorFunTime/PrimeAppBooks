<base:BaseAnimatedPage
    x:Class="PrimeAppBooks.Views.Pages.Settings"
        xmlns:base="clr-namespace:PrimeAppBooks.Views.Pages"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="900"
    d:DesignWidth="1280"
    Background="Transparent"
    mc:Ignorable="d">

    <ScrollViewer Style="{StaticResource ModernScrollViewer}">
        <Grid MaxWidth="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=ScrollViewer}}" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--  Header Section  -->
            <Border
                Grid.Row="0"
                Margin="5,5,5,20"
                Style="{StaticResource ModernCardStyle}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" VerticalAlignment="Center">
                        <TextBlock Style="{StaticResource WelcomeTitleText}" Text="Settings" />
                        <TextBlock Style="{StaticResource WelcomeSubtitleText}" Text="Configure your accounting system preferences and business settings" />
                    </StackPanel>

                    <StackPanel
                        Grid.Column="1"
                        VerticalAlignment="Center"
                        Orientation="Horizontal">
                        <Button
                            Margin="5,0"
                            Command="{Binding SaveSettingsCommand}"
                            Content="💾 Save Changes"
                            Style="{StaticResource ModernActionButton}" />
                        <Button
                            Margin="5,0"
                            Command="{Binding RestoreDefaultsCommand}"
                            Content="🔄 Reset to Defaults"
                            Style="{StaticResource ModernSecondaryButton}" />
                        <Button
                            Margin="5,0"
                            Command="{Binding ExportSettingsCommand}"
                            Content="📤 Export"
                            Style="{StaticResource ModernSecondaryButton}" />
                    </StackPanel>
                </Grid>
            </Border>

            <!--  Settings Navigation  -->
            <Border
                Grid.Row="1"
                Padding="5,0,5,0"
                Style="{StaticResource ModernCardStyle}">
                <StackPanel>
                    <TextBlock
                        Margin="10"
                        Style="{StaticResource WelcomeTitleText}"
                        Text="Categories" />
                    <WrapPanel>
                        <RadioButton
                            Name="GeneralTab"
                            Margin="0,0,15,0"
                            Checked="CategoryButton_Checked"
                            Content="⚙️ General &amp; Company"
                            GroupName="SettingsCategories"
                            IsChecked="True"
                            Style="{StaticResource SettingsCategoryRadioButton}"
                            Tag="0" />
                        <RadioButton
                            Name="AccountingTab"
                            Margin="0,0,15,0"
                            Checked="CategoryButton_Checked"
                            Content="📊 Accounting Rules"
                            GroupName="SettingsCategories"
                            Style="{StaticResource SettingsCategoryRadioButton}"
                            Tag="1" />
                        <RadioButton
                            Name="TaxTab"
                            Margin="0,0,15,0"
                            Checked="CategoryButton_Checked"
                            Content="💰 Tax Configuration"
                            GroupName="SettingsCategories"
                            Style="{StaticResource SettingsCategoryRadioButton}"
                            Tag="2" />
                        <RadioButton
                            Name="SecurityTab"
                            Margin="0,0,15,0"
                            Checked="CategoryButton_Checked"
                            Content="🔒 Security &amp; Access"
                            GroupName="SettingsCategories"
                            Style="{StaticResource SettingsCategoryRadioButton}"
                            Tag="3" />
                        <RadioButton
                            Name="BackupTab"
                            Margin="0,0,15,0"
                            Checked="CategoryButton_Checked"
                            Content="💾 Backup &amp; Data"
                            GroupName="SettingsCategories"
                            Style="{StaticResource SettingsCategoryRadioButton}"
                            Tag="4" />
                        <RadioButton
                            Name="ReportsTab"
                            Margin="0,0,15,0"
                            Checked="CategoryButton_Checked"
                            Content="📋 Reports &amp; Print"
                            GroupName="SettingsCategories"
                            Style="{StaticResource SettingsCategoryRadioButton}"
                            Tag="5" />
                        <RadioButton
                            Name="NotificationTab"
                            Margin="0,0,15,0"
                            Checked="CategoryButton_Checked"
                            Content="🔔 Notifications"
                            GroupName="SettingsCategories"
                            Style="{StaticResource SettingsCategoryRadioButton}"
                            Tag="6" />
                        <RadioButton
                            Name="IntegrationTab"
                            Checked="CategoryButton_Checked"
                            Content="🔗 Integrations"
                            GroupName="SettingsCategories"
                            Style="{StaticResource SettingsCategoryRadioButton}"
                            Tag="7" />
                    </WrapPanel>
                </StackPanel>
            </Border>

            <!--  Settings Content  -->
            <Border Grid.Row="2" Style="{StaticResource ModernCardStyle}">
                <TabControl
                    x:Name="SettingsTabControl"
                    Background="Transparent"
                    BorderThickness="0">
                    <TabControl.Style>
                        <Style TargetType="TabControl">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="TabControl">
                                        <ContentPresenter ContentSource="SelectedContent" />
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TabControl.Style>

                    <!--  General & Company Settings  -->
                    <TabItem>
                        <StackPanel Margin="25">
                            <TextBlock
                                Margin="0,0,0,20"
                                Style="{StaticResource SectionHeaderText}"
                                Text="⚙️ General &amp; Company Settings" />

                            <!--  Company Information  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="Company Information" />

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Company Name:" />
                                        <hc:TextBox
                                            Grid.Column="1"
                                            hc:InfoElement.Placeholder="Enter company name"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding CompanyName}" />
                                    </Grid>

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Legal Name:" />
                                        <hc:TextBox
                                            Grid.Column="1"
                                            hc:InfoElement.Placeholder="Full legal business name"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding CompanyLegalName}" />
                                    </Grid>
 
                                     <Grid Style="{StaticResource SettingsRowStyle}">
                                         <Grid.ColumnDefinitions>
                                             <ColumnDefinition Width="180" />
                                             <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                         </Grid.ColumnDefinitions>
                                         <TextBlock
                                             Grid.Column="0"
                                             Style="{StaticResource SettingsLabelStyle}"
                                            Text="Company Email:" />
                                        <hc:TextBox
                                            Grid.Column="1"
                                            hc:InfoElement.Placeholder="Email address"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding CompanyEmail}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Company Phone:" />
                                        <hc:TextBox
                                            Grid.Column="4"
                                            hc:InfoElement.Placeholder="Phone number"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding CompanyPhone}" />
                                     </Grid>

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Address:" />
                                        <TextBox
                                            Grid.Column="1"
                                            Height="60"
                                            hc:InfoElement.Placeholder="Complete business address"
                                            AcceptsReturn="True"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding CompanyAddress}" />
                                    </Grid>

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Tax ID:" />
                                        <TextBox
                                            Grid.Column="1"
                                            hc:InfoElement.Placeholder="Tax ID/EIN"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding TaxId}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Business Number:" />
                                        <TextBox
                                            Grid.Column="4"
                                            hc:InfoElement.Placeholder="Registration number"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding BusinessNumber}" />
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!--  Regional Settings  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="Regional &amp; Format Settings" />

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Base Currency:" />
                                        <ComboBox
                                            Grid.Column="1"
                                            ItemsSource="{Binding Currencies}"
                                            SelectedItem="{Binding SelectedBaseCurrency}"
                                            DisplayMemberPath="CurrencyCode"
                                            Style="{StaticResource ModernComboBox}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Date Format:" />
                                        <ComboBox
                                            Grid.Column="4"
                                            ItemsSource="{Binding DateFormats}"
                                            SelectedItem="{Binding DateFormat}"
                                            Style="{StaticResource ModernComboBox}" />
                                    </Grid>

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Number Format:" />
                                        <ComboBox
                                            Grid.Column="1"
                                            ItemsSource="{Binding NumberFormats}"
                                            SelectedItem="{Binding NumberFormat}"
                                            Style="{StaticResource ModernComboBox}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Time Zone:" />
                                        <ComboBox
                                            Grid.Column="4"
                                            ItemsSource="{Binding TimeZones}"
                                            SelectedItem="{Binding TimeZone}"
                                            Style="{StaticResource ModernComboBox}" />
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!--  Interface Preferences  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="Interface Preferences" />
                                    <UniformGrid Columns="3">
                                        <CheckBox
                                            Margin="0,0,15,10"
                                            Content="Dark Theme"
                                            Foreground="White"
                                            IsChecked="{Binding DarkMode}" />
                                        <CheckBox
                                            Margin="0,0,15,10"
                                            Content="Enable Animations"
                                            Foreground="White"
                                            IsChecked="{Binding EnableAnimations}" />
                                        <CheckBox
                                            Margin="0,0,15,10"
                                            Content="Show Tooltips"
                                            Foreground="White"
                                            IsChecked="{Binding ShowTooltips}" />
                                        <CheckBox
                                            Margin="0,0,15,10"
                                            Content="Compact View"
                                            Foreground="White"
                                            IsChecked="{Binding CompactView}" />
                                        <CheckBox
                                            Margin="0,0,15,10"
                                            Content="Show Grid Lines"
                                            Foreground="White"
                                            IsChecked="{Binding ShowGridLines}" />
                                        <CheckBox
                                            Margin="0,0,15,10"
                                            Content="Auto-save Changes"
                                            Foreground="White"
                                            IsChecked="{Binding AutoSave}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>

                    <!--  Accounting Rules  -->
                    <TabItem>
                        <StackPanel Margin="25">
                            <TextBlock
                                Margin="0,0,0,20"
                                Style="{StaticResource SectionHeaderText}"
                                Text="📊 Accounting Rules &amp; Policies" />

                            <!--  Fiscal Year Settings  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="Fiscal Year Configuration" />

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="200" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Fiscal Year Starts:" />
                                        <ComboBox
                                            Grid.Column="1"
                                            ItemsSource="{Binding FiscalYearStarts}"
                                            SelectedItem="{Binding FiscalYearStart}"
                                            Style="{StaticResource ModernComboBox}" />
                                        <CheckBox
                                            Grid.Column="2"
                                            Margin="15,0,0,0"
                                            VerticalAlignment="Center"
                                            Content="Auto-close previous fiscal year"
                                            Foreground="White"
                                            IsChecked="{Binding AutoCloseFiscalYear}" />
                                    </Grid>

                                    <UniformGrid Margin="0,10,0,0" Columns="2">
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Lock closed periods"
                                            Foreground="White"
                                            IsChecked="{Binding LockClosedPeriods}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Warn when posting to closed periods"
                                            Foreground="White"
                                            IsChecked="{Binding WarnClosedPeriods}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>

                            <!--  Transaction Settings  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="Transaction &amp; Journal Settings" />

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Invoice Prefix:" />
                                        <TextBox
                                            Grid.Column="1"
                                            hc:InfoElement.Placeholder="INV-"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding InvoicePrefix}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Receipt Prefix:" />
                                        <TextBox
                                            Grid.Column="4"
                                            hc:InfoElement.Placeholder="RCP-"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding ReceiptPrefix}" />
                                    </Grid>

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="200" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Starting Number:" />
                                        <TextBox
                                            Grid.Column="1"
                                            hc:InfoElement.Placeholder="1000"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding StartingNumber}" />
                                        <CheckBox
                                            Grid.Column="2"
                                            Margin="15,0,0,0"
                                            VerticalAlignment="Center"
                                            Content="Auto-number all transactions"
                                            Foreground="White"
                                            IsChecked="{Binding AutoNumberTransactions}" />
                                    </Grid>

                                    <UniformGrid Margin="0,10,0,0" Columns="2">
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Require approval for journal entries"
                                            Foreground="White"
                                            IsChecked="{Binding RequireJournalApproval}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Allow negative inventory"
                                            Foreground="White"
                                            IsChecked="{Binding AllowNegativeInventory}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Track cost center in transactions"
                                            Foreground="White"
                                            IsChecked="{Binding TrackCostCenter}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Enable multi-currency transactions"
                                            Foreground="White"
                                            IsChecked="{Binding MultiCurrency}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>

                    <!--  Tax Configuration  -->
                    <TabItem>
                        <StackPanel Margin="25">
                            <TextBlock
                                Margin="0,0,0,20"
                                Style="{StaticResource SectionHeaderText}"
                                Text="💰 Tax Configuration" />

                            <!--  Default Tax Settings  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="Default Tax Settings" />
                                    <StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <!--  Sales Tax  -->
                                            <StackPanel
                                                Margin="10"
                                                VerticalAlignment="Center"
                                                Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="5"
                                                    Style="{StaticResource SettingsLabelStyle}"
                                                    Text="Sales Tax:" />
                                                <TextBox
                                                    Width="80"
                                                    Style="{StaticResource ModernTextBoxStyle}"
                                                    Text="{Binding DefaultSalesTaxRate}" />
                                                <TextBlock
                                                    Margin="5"
                                                    VerticalAlignment="Center"
                                                    Text="%" />
                                            </StackPanel>

                                            <!--  Purchase Tax  -->
                                            <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="0,0,10,0"
                                                    Style="{StaticResource SettingsLabelStyle}"
                                                    Text="Purchase Tax:" />
                                                <TextBox
                                                    Width="80"
                                                    hc:InfoElement.Placeholder="15.00"
                                                    Style="{StaticResource ModernTextBoxStyle}"
                                                    Text="{Binding DefaultPurchaseTaxRate}" />
                                                <TextBlock
                                                    Margin="5,0,0,0"
                                                    VerticalAlignment="Center"
                                                    Text="%" />
                                            </StackPanel>
                                        </StackPanel>
                                    </StackPanel>

                                    <UniformGrid Margin="0,10,0,0" Columns="2">
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Prices include tax by default"
                                            Foreground="White"
                                            IsChecked="{Binding TaxInclusive}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Auto-calculate taxes on transactions"
                                            Foreground="White"
                                            IsChecked="{Binding AutoCalculateTaxes}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Track tax by line item"
                                            Foreground="White"
                                            IsChecked="{Binding TrackTaxByLine}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Generate tax reports automatically"
                                            Foreground="White"
                                            IsChecked="{Binding AutoGenerateTaxReports}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>

                    <!--  Security & Access  -->
                    <TabItem>
                        <StackPanel Margin="25">
                            <TextBlock
                                Margin="0,0,0,20"
                                Style="{StaticResource SectionHeaderText}"
                                Text="🔒 Security &amp; Access Control" />

                            <!--  User Authentication  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="User Authentication" />

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="120" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="120" />
                                            <ColumnDefinition Width="60" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Session Timeout:" />
                                        <TextBox
                                            Grid.Column="1"
                                            hc:InfoElement.Placeholder="30"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding SessionTimeout}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Password Expiry:" />
                                        <TextBox
                                            Grid.Column="4"
                                            hc:InfoElement.Placeholder="90"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding PasswordExpirationDays}" />
                                        <TextBlock
                                            Grid.Column="5"
                                            Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            Text="days" />
                                    </Grid>

                                    <UniformGrid Margin="0,10,0,0" Columns="2">
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Require strong passwords"
                                            Foreground="White"
                                            IsChecked="{Binding RequireStrongPasswords}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Enable two-factor authentication"
                                            Foreground="White"
                                            IsChecked="{Binding TwoFactorAuth}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Auto-logout inactive users"
                                            Foreground="White"
                                            IsChecked="{Binding AutoLogout}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Lock account after failed attempts"
                                            Foreground="White"
                                            IsChecked="{Binding LockAfterFailedAttempts}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>

                    <!--  Backup & Data  -->
                    <TabItem>
                        <StackPanel Margin="25">
                            <TextBlock
                                Margin="0,0,0,20"
                                Style="{StaticResource SectionHeaderText}"
                                Text="💾 Backup &amp; Data Management" />

                            <!--  Automated Backup  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="Automated Backup Configuration" />

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Backup Frequency:" />
                                        <ComboBox
                                            Grid.Column="1"
                                            ItemsSource="{Binding BackupFrequencies}"
                                            SelectedItem="{Binding BackupFrequency}"
                                            Style="{StaticResource ModernComboBox}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Retention Period:" />
                                        <ComboBox
                                            Grid.Column="4"
                                            ItemsSource="{Binding RetentionPeriods}"
                                            SelectedItem="{Binding RetentionPeriod}"
                                            Style="{StaticResource ModernComboBox}" />
                                    </Grid>

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Backup Location:" />
                                        <TextBox
                                            Grid.Column="1"
                                            hc:InfoElement.Placeholder="Select backup directory"
                                            Style="{StaticResource ModernTextBoxStyle}"
                                            Text="{Binding BackupLocation}" />
                                        <Button
                                            Grid.Column="2"
                                            Margin="10,0,0,0"
                                            Content="📁 Browse"
                                            Style="{StaticResource ModernSecondaryButton}" />
                                    </Grid>

                                    <UniformGrid Margin="0,10,0,0" Columns="3">
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Enable automatic backups"
                                            Foreground="White"
                                            IsChecked="{Binding AutoBackupEnabled}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Compress backup files"
                                            Foreground="White"
                                            IsChecked="{Binding CompressBackups}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Encrypt backup files"
                                            Foreground="White"
                                            IsChecked="{Binding EncryptBackups}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Verify backup integrity"
                                            Foreground="White"
                                            IsChecked="{Binding VerifyBackups}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Email backup notifications"
                                            Foreground="White"
                                            IsChecked="{Binding EmailBackupNotifications}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Cloud backup sync"
                                            Foreground="White"
                                            IsChecked="{Binding CloudBackupSync}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>

                    <!--  Reports & Print  -->
                    <TabItem>
                        <StackPanel Margin="25">
                            <TextBlock
                                Margin="0,0,0,20"
                                Style="{StaticResource SectionHeaderText}"
                                Text="📋 Reports &amp; Print Configuration" />

                            <!--  Report Preferences  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="Report Preferences" />

                                    <Grid Style="{StaticResource SettingsRowStyle}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="180" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Default Format:" />
                                        <ComboBox
                                            Grid.Column="1"
                                            ItemsSource="{Binding ReportFormats}"
                                            SelectedItem="{Binding DefaultReportFormat}"
                                            Style="{StaticResource ModernComboBox}" />
                                        <TextBlock
                                            Grid.Column="3"
                                            Style="{StaticResource SettingsLabelStyle}"
                                            Text="Auto-refresh:" />
                                        <ComboBox
                                            Grid.Column="4"
                                            ItemsSource="{Binding RefreshIntervals}"
                                            SelectedItem="{Binding ReportRefreshInterval}"
                                            Style="{StaticResource ModernComboBox}" />
                                    </Grid>

                                    <UniformGrid Margin="0,10,0,0" Columns="3">
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Show company logo on reports"
                                            Foreground="White"
                                            IsChecked="{Binding ShowLogoOnReports}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Include page numbers"
                                            Foreground="White"
                                            IsChecked="{Binding IncludePageNumbers}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Show report generation time"
                                            Foreground="White"
                                            IsChecked="{Binding ShowGenerationTime}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Enable drill-down in reports"
                                            Foreground="White"
                                            IsChecked="{Binding EnableReportDrillDown}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Auto-email scheduled reports"
                                            Foreground="White"
                                            IsChecked="{Binding AutoEmailReports}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Save reports automatically"
                                            Foreground="White"
                                            IsChecked="{Binding AutoSaveReports}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>

                    <!--  Notifications  -->
                    <TabItem>
                        <StackPanel Margin="25">
                            <TextBlock
                                Margin="0,0,0,20"
                                Style="{StaticResource SectionHeaderText}"
                                Text="🔔 Notification Settings" />

                            <!--  System Notifications  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <TextBlock
                                        Margin="0,0,0,15"
                                        FontWeight="SemiBold"
                                        Style="{StaticResource DetailLabelText}"
                                        Text="System Notifications" />

                                    <UniformGrid Margin="0,10,0,0" Columns="2">
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Show desktop notifications"
                                            Foreground="White"
                                            IsChecked="{Binding ShowDesktopNotifications}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Play notification sounds"
                                            Foreground="White"
                                            IsChecked="{Binding PlayNotificationSounds}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Show system tray notifications"
                                            Foreground="White"
                                            IsChecked="{Binding ShowTrayNotifications}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Notify on application updates"
                                            Foreground="White"
                                            IsChecked="{Binding NotifyOnUpdates}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>

                    <!--  Integrations  -->
                    <TabItem>
                        <StackPanel Margin="25">
                            <TextBlock
                                Margin="0,0,0,20"
                                Style="{StaticResource SectionHeaderText}"
                                Text="🔗 System Integrations" />

                            <!--  Banking Integration  -->
                            <Border Style="{StaticResource SettingsGroupStyle}">
                                <StackPanel>
                                    <Grid Margin="0,0,0,15">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock
                                            Grid.Column="0"
                                            FontWeight="SemiBold"
                                            Style="{StaticResource DetailLabelText}"
                                            Text="Banking &amp; Payment Integration" />
                                        <Button
                                            Grid.Column="1"
                                            Content="🔗 Manage Connections"
                                            Style="{StaticResource ModernSecondaryButton}" />
                                    </Grid>

                                    <UniformGrid Margin="0,10,0,0" Columns="2">
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Enable bank feed imports"
                                            Foreground="White"
                                            IsChecked="{Binding EnableBankFeeds}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Auto-match transactions"
                                            Foreground="White"
                                            IsChecked="{Binding AutoMatchTransactions}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Enable online payments"
                                            Foreground="White"
                                            IsChecked="{Binding EnableOnlinePayments}" />
                                        <CheckBox
                                            Margin="0,0,15,5"
                                            Content="Sync payment confirmations"
                                            Foreground="White"
                                            IsChecked="{Binding SyncPaymentConfirmations}" />
                                    </UniformGrid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </TabItem>
                </TabControl>
            </Border>
        </Grid>
    </ScrollViewer>
</base:BaseAnimatedPage>